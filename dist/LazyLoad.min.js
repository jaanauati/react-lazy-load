!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.LazyLoad=e(require("react"),require("react-dom")):t.LazyLoad=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(7),u=n(8),l=u.findDOMNode,c=a.Children,s=a.Component,d=a.PropTypes,p=n(4),v=p.add,y=p.remove,h=n(5),b=n(6),m=n(3),g=n(2),w=n(1),L=function(t){function e(t){o(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t));return n.lazyLoadHandler=n.lazyLoadHandler.bind(n),t.throttle>0&&(t.debounce?n.lazyLoadHandler=h(n.lazyLoadHandler,t.throttle):n.lazyLoadHandler=b(n.lazyLoadHandler,t.throttle)),n.state={visible:!1},n}return i(e,t),f(e,[{key:"componentDidMount",value:function(){var t=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),v(window,"resize",this.lazyLoadHandler),v(window,"load",this.lazyLoadHandler),v(t,"scroll",this.lazyLoadHandler),w.registerCallback(this.lazyLoadHandler)}},{key:"componentWillReceiveProps",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:"shouldComponentUpdate",value:function(t,e){return e.visible}},{key:"componentWillUnmount",value:function(){this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:"getEventNode",value:function(){return m(l(this))}},{key:"getOffset",value:function(){var t=this.props,e=t.offset,n=t.offsetVertical,o=t.offsetHorizontal,r=t.offsetTop,i=t.offsetBottom,f=t.offsetLeft,a=t.offsetRight,u=t.threshold,l=u||e,c=n||l,s=o||l;return{top:r||c,bottom:i||c,left:f||s,right:a||s}}},{key:"lazyLoadHandler",value:function(){var t=this.getOffset(),e=l(this),n=this.getEventNode();if(g(e,n,t)){var o=this.props.onContentVisible;this.setState({visible:!0}),this.detachListeners(),o&&o()}}},{key:"detachListeners",value:function(){var t=this.getEventNode();y(window,"resize",this.lazyLoadHandler),y(window,"load",this.lazyLoadHandler),y(t,"scroll",this.lazyLoadHandler),w.unregisterCallback(this.lazyLoadHandler)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,o=t.height,r=t.width,i=this.state.visible,f={height:o,width:r},u="LazyLoad"+(i?" is-visible":"")+(n?" "+n:"");return a.createElement("div",{className:u,style:f},i&&c.only(e))}}]),e}(s);L.propTypes={children:d.node.isRequired,className:d.string,debounce:d.bool,height:d.oneOfType([d.string,d.number]),offset:d.number,offsetBottom:d.number,offsetHorizontal:d.number,offsetLeft:d.number,offsetRight:d.number,offsetTop:d.number,offsetVertical:d.number,threshold:d.number,throttle:d.number,width:d.oneOfType([d.string,d.number]),onContentVisible:d.func},L.defaultProps={debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250},t.exports=L},function(t,e){"use strict";function n(){f.forEach(function(t){try{t()}catch(e){}})}function o(t){f.indexOf(t)!==-1&&f.push(t)}function r(t){var e=f.indexOf(t);e!==-1&&f.splice(e,1)}Object.defineProperty(e,"__esModule",{value:!0}),e.registerCallback=o,e.unregisterCallback=r;var i=null,f=[],a={childList:!0,subtree:!0};"undefined"!=typeof MutationObserver?(i=new MutationObserver(n),i.observe(document.body,a)):document.body.addEventListener("DOMSubtreeModified",n)},function(t,e){"use strict";var n=function(t){return null===t.offsetParent},o=function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},r=function(t,e,r){if(n(t))return!1;var i=void 0,f=void 0,a=void 0,u=void 0;if("undefined"==typeof e||e===window)i=window.pageYOffset,f=window.pageXOffset,a=i+window.innerHeight,u=f+window.innerWidth;else{var l=o(e);i=l.top,f=l.left,a=i+e.offsetHeight,u=f+e.offsetWidth}var c=o(t);return i<c.top+r.bottom+t.offsetHeight&&a>c.top-r.top&&f<c.left+r.right+t.offsetWidth&&u>c.left-r.left};t.exports=r},function(t,e){"use strict";var n=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},o=function(t){return n(t,"overflow")+n(t,"overflow-y")+n(t,"overflow-x")},r=function(t){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(o(e)))return e;e=e.parentNode}return window};t.exports=r},function(t,e,n){var o,r;!function(i,f){o=f,r="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==r&&(t.exports=r))}(this,function(){function t(t,e){return function(n,o,r,i){n[t]?n[t](o,r,i):n[e]&&n[e]("on"+o,r)}}return{add:t("addEventListener","attachEvent"),remove:t("removeEventListener","detachEvent")}})},function(t,e){(function(e){function n(t,e,n){function r(e){var n=y,o=h;return y=h=void 0,j=e,m=t.apply(o,n)}function i(t){return j=t,g=setTimeout(c,e),z?r(t):m}function u(t){var n=t-x,o=t-j,r=e-n;return H?L(r,b-o):r}function l(t){var n=t-x,o=t-j;return void 0===x||n>=e||n<0||H&&o>=b}function c(){var t=O();return l(t)?s(t):void(g=setTimeout(c,u(t)))}function s(t){return g=void 0,T&&y?r(t):(y=h=void 0,m)}function d(){void 0!==g&&clearTimeout(g),j=0,y=x=h=g=void 0}function p(){return void 0===g?m:s(O())}function v(){var t=O(),n=l(t);if(y=arguments,h=this,x=t,n){if(void 0===g)return i(x);if(H)return g=setTimeout(c,e),r(x)}return void 0===g&&(g=setTimeout(c,e)),m}var y,h,b,m,g,x,j=0,z=!1,H=!1,T=!0;if("function"!=typeof t)throw new TypeError(a);return e=f(e)||0,o(n)&&(z=!!n.leading,H="maxWait"in n,b=H?w(f(n.maxWait)||0,e):b,T="trailing"in n?!!n.trailing:T),v.cancel=d,v.flush=p,v}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function r(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||r(t)&&g.call(t)==l}function f(t){if("number"==typeof t)return t;if(i(t))return u;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=d.test(t);return n||p.test(t)?v(t.slice(2),n?2:8):s.test(t)?u:+t}var a="Expected a function",u=NaN,l="[object Symbol]",c=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,y="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,b=y||h||Function("return this")(),m=Object.prototype,g=m.toString,w=Math.max,L=Math.min,O=function(){return b.Date.now()};t.exports=n}).call(e,function(){return this}())},function(t,e){(function(e){function n(t,e,n){function o(e){var n=y,o=h;return y=h=void 0,j=e,m=t.apply(o,n)}function i(t){return j=t,g=setTimeout(c,e),z?o(t):m}function f(t){var n=t-w,o=t-j,r=e-n;return H?O(r,b-o):r}function l(t){var n=t-w,o=t-j;return void 0===w||n>=e||n<0||H&&o>=b}function c(){var t=x();return l(t)?s(t):void(g=setTimeout(c,f(t)))}function s(t){return g=void 0,T&&y?o(t):(y=h=void 0,m)}function d(){void 0!==g&&clearTimeout(g),j=0,y=w=h=g=void 0}function p(){return void 0===g?m:s(x())}function v(){var t=x(),n=l(t);if(y=arguments,h=this,w=t,n){if(void 0===g)return i(w);if(H)return g=setTimeout(c,e),o(w)}return void 0===g&&(g=setTimeout(c,e)),m}var y,h,b,m,g,w,j=0,z=!1,H=!1,T=!0;if("function"!=typeof t)throw new TypeError(u);return e=a(e)||0,r(n)&&(z=!!n.leading,H="maxWait"in n,b=H?L(a(n.maxWait)||0,e):b,T="trailing"in n?!!n.trailing:T),v.cancel=d,v.flush=p,v}function o(t,e,o){var i=!0,f=!0;if("function"!=typeof t)throw new TypeError(u);return r(o)&&(i="leading"in o?!!o.leading:i,f="trailing"in o?!!o.trailing:f),n(t,e,{leading:i,maxWait:e,trailing:f})}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==typeof t}function f(t){return"symbol"==typeof t||i(t)&&w.call(t)==c}function a(t){if("number"==typeof t)return t;if(f(t))return l;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=p.test(t);return n||v.test(t)?y(t.slice(2),n?2:8):d.test(t)?l:+t}var u="Expected a function",l=NaN,c="[object Symbol]",s=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,v=/^0o[0-7]+$/i,y=parseInt,h="object"==typeof e&&e&&e.Object===Object&&e,b="object"==typeof self&&self&&self.Object===Object&&self,m=h||b||Function("return this")(),g=Object.prototype,w=g.toString,L=Math.max,O=Math.min,x=function(){return m.Date.now()};t.exports=o}).call(e,function(){return this}())},function(e,n){e.exports=t},function(t,n){t.exports=e}])});